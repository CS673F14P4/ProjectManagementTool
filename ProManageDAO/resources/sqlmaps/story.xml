<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="bu.met.cs.cs673.pm.dto.Story">
    
  <resultMap id="storyMap" type="bu.met.cs.cs673.pm.dto.Story">
  	<id property="id" column="idstory" />
  	<result property="name" column="name"/>
  	<result property="description" column="description"/>
  	<result property="startDate" column="start_date"/>
  	<result property="priority" column="priority"/>
  	<result property="createDate" column="create_date"/>
  	<result property="createUser" column="create_user"/>
  	<result property="lastModifiedDate" column="last_modified_date"/>
  	<result property="lastModifiedUser" column="last_modified_user"/>
  </resultMap>

  
	<select id="getStory" resultMap="storyMap">
		select * from Story where idstory = #{id}
	</select>

	
	<insert id="createStory" useGeneratedKeys="true" keyProperty="id" keyColumn="idstory">insert into Story (name, description, create_date, create_user, last_modified_date, last_modified_user) 
	    values (#{name}, #{description}, now(), #{createUser}, now(), #{lastModifiedUser})</insert>
	
	<delete id="deleteStory">
	    delete from Story where idstory = #{id}
	</delete>
  
</mapper>
